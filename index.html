<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Slot Analyzer</title>
  <style>
    body {
  font-family: 'Segoe UI', sans-serif;
  background: radial-gradient(circle at center, #1a1a1a, #000);
  color: #fff;
  text-align: center;
  padding: 10px;
  margin: 0;

  width: 450px;       /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
  height: 800px;      /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
  overflow-y: auto;   /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –µ—Å–ª–∏ –Ω–∞–¥–æ */
  margin-left: auto;
  margin-right: auto;
  box-sizing: border-box;
}

h1 {
  font-size: 24px;
  margin-bottom: 15px;
  color: #ffcc00;
  text-shadow: 0 0 8px #ffcc00;
}

.slots-grid {
  display: grid;
  grid-template-columns: 1fr; /* –æ–¥–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ */
  gap: 12px;
  margin-bottom: 20px;
  max-width: 100%;
}

.slot-card {
  background: #222;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  border: 2px solid transparent;
  transition: 0.3s;
  user-select: none;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px;
}

.slot-card img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 8px;
  flex-shrink: 0;
}

.slot-card p {
  margin: 0;
  font-weight: bold;
  font-size: 18px;
  color: #ffcc00;
  text-align: left;
  flex-grow: 1;
}

.slot-card:hover {
  transform: scale(1.03);
  border-color: #ffcc00;
  box-shadow: 0 0 8px #ffcc00;
}

button {
  width: 90%;
  max-width: 300px;
  margin: 10px auto;
  padding: 14px 0;
  border-radius: 10px;
  border: none;
  font-size: 18px;
  outline: none;
  background: linear-gradient(90deg, #ff9800, #ffcc00);
  color: #000;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 0 12px rgba(255, 200, 0, 0.8);
  display: block;
}

button:hover {
  transform: scale(1.05);
}

.hidden {
  display: none;
}

.loader {
  border: 6px solid rgba(255, 255, 255, 0.1);
  border-top: 6px solid #ffcc00;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin: 30px auto;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.result {
  margin-top: 20px;
  font-size: 18px;
  background: rgba(255, 255, 255, 0.05);
  padding: 15px;
  border-radius: 12px;
  display: inline-block;
  box-shadow: 0 0 15px rgba(255, 200, 0, 0.3);
  max-width: 90%;
  word-wrap: break-word;
}

img.preview,
#slotImageDisplay {
  max-width: 100%;
  height: auto;
  margin-top: 15px;
  border-radius: 12px;
  box-shadow: 0 0 10px #ffcc00;
}

.btn-group {
  margin-top: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
}

  </style>
</head>
<body>
  <h1>üé∞ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–ª–æ—Ç–æ–≤</h1>

  <!-- –í—ã–±–æ—Ä —Å–ª–æ—Ç–∞ -->
  <div id="slotSelection">
    <div class="slots-grid" id="slotsGrid">
      <!-- –°–ª–æ—Ç -->
      <div class="slot-card" data-name="Gates of Olympus">
        <img src="1.png" alt="Gates of Olympus" />
        <p>Gates of Olympus</p>
      </div>
      <div class="slot-card" data-name="Zeus vs Hades">
        <img src="2.png" alt="Zeus vs Hades" />
        <p>Zeus vs Hades</p>
      </div>
      <div class="slot-card" data-name="Sweet Bonanza">
        <img src="3.png" alt="Sweet Bonanza" />
        <p>Sweet Bonanza</p>
      </div>
      <div class="slot-card" data-name="The Dog House">
        <img src="4.png" alt="The Dog House" />
        <p>The Dog House</p>
      </div>
      <div class="slot-card" data-name="Sugar Rush">
        <img src="6.png" alt="Sugar Rush" />
        <p>Sugar Rush</p>
      </div>
      <div class="slot-card" data-name="Wild West Gold">
        <img src="7.png" alt="Wild West Gold" />
        <p>Wild West Gold</p>
      </div>
      <div class="slot-card" data-name="Starlight Princess">
        <img src="8.png" alt="Starlight Princess" />
        <p>Starlight Princess</p>
      </div>
    </div>
  </div>

  <!-- –ê–Ω–∞–ª–∏–∑ -->
  <div id="slotAnalysis" class="hidden">
    <h2 id="selectedSlotName"></h2>
    <img id="slotImageDisplay" alt="Slot Image" />
    
    <form id="uploadForm">
      <label style="margin-top:20px; display:block; cursor:pointer; background:#222; padding: 10px; border-radius:8px; max-width: 220px; margin-left:auto; margin-right:auto;">
        –í—ã–±—Ä–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç
        <input type="file" id="slotScreenshot" accept="image/*" style="display:none" required />
      </label>
      <img id="screenshotPreview" class="preview hidden" alt="Screenshot Preview" />
      <br />
      <button type="submit" disabled id="analyzeBtn">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
    </form>

    <div id="loading" class="hidden">
      <div class="loader"></div>
      <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º‚Ä¶</p>
    </div>

    <div id="result" class="result hidden"></div>

    <div class="btn-group">
      <button id="reloadScreenshotBtn" class="hidden">–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π —Å–∫—Ä–∏–Ω</button>
      <button id="backToSlotsBtn">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É —Å–ª–æ—Ç–∞</button>
    </div>
  </div>

  <script>
    const slotCards = document.querySelectorAll(".slot-card");
    const slotSelection = document.getElementById("slotSelection");
    const slotAnalysis = document.getElementById("slotAnalysis");
    const selectedSlotName = document.getElementById("selectedSlotName");
    const slotImageDisplay = document.getElementById("slotImageDisplay");
    const uploadForm = document.getElementById("uploadForm");
    const slotScreenshot = document.getElementById("slotScreenshot");
    const screenshotPreview = document.getElementById("screenshotPreview");
    const analyzeBtn = document.getElementById("analyzeBtn");
    const loading = document.getElementById("loading");
    const resultDiv = document.getElementById("result");
    const reloadScreenshotBtn = document.getElementById("reloadScreenshotBtn");
    const backToSlotsBtn = document.getElementById("backToSlotsBtn");

    let selectedSlot = null;

    slotCards.forEach(card => {
      card.addEventListener("click", () => {
        selectedSlot = card.dataset.name;
        slotSelection.classList.add("hidden");
        slotAnalysis.classList.remove("hidden");
        selectedSlotName.textContent = selectedSlot;
        slotImageDisplay.src = card.querySelector("img").src;
        resetAnalysis();
      });
    });

    slotScreenshot.addEventListener("change", () => {
      const file = slotScreenshot.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = e => {
          screenshotPreview.src = e.target.result;
          screenshotPreview.classList.remove("hidden");
          analyzeBtn.disabled = false;
        };
        reader.readAsDataURL(file);
      } else {
        screenshotPreview.src = "";
        screenshotPreview.classList.add("hidden");
        analyzeBtn.disabled = true;
      }
    });

    uploadForm.addEventListener("submit", e => {
      e.preventDefault();
      if (!slotScreenshot.files.length) return;

      analyzeBtn.disabled = true;
      loading.classList.remove("hidden");
      resultDiv.classList.add("hidden");
      reloadScreenshotBtn.classList.add("hidden");

      setTimeout(() => {
        loading.classList.add("hidden");
        const chance = (Math.random() * (90 - 70) + 70).toFixed(1);
        const spins = Math.floor(Math.random() * (40 - 20) + 20);

        resultDiv.innerHTML = `
          <strong>–°–ª–æ—Ç:</strong> ${selectedSlot}<br />
          <strong>–®–∞–Ω—Å –±–æ–Ω—É—Å–∫–∏:</strong> ${chance}%<br />
          <strong>–í—Ä–∞—â–µ–Ω–∏–π –¥–æ –±–æ–Ω—É—Å–∫–∏:</strong> ~${spins}
        `;
        resultDiv.classList.remove("hidden");
        reloadScreenshotBtn.classList.remove("hidden");
      }, 2000);
    });

    reloadScreenshotBtn.addEventListener("click", () => {
      resetAnalysis();
    });

    backToSlotsBtn.addEventListener("click", () => {
      selectedSlot = null;
      slotSelection.classList.remove("hidden");
      slotAnalysis.classList.add("hidden");
      resetAnalysis();
    });

    function resetAnalysis() {
      slotScreenshot.value = "";
      screenshotPreview.src = "";
      screenshotPreview.classList.add("hidden");
      analyzeBtn.disabled = true;
      loading.classList.add("hidden");
      resultDiv.classList.add("hidden");
      reloadScreenshotBtn.classList.add("hidden");
    }
  </script>
</body>
</html>
